<div class="container mx-auto p-6">
  <h1 class="text-3xl font-bold text-logo text-center mb-8">今日のCarebitを選ぶ</h1>

  <%= form_with url: carebit_choose_path, method: :post, local: true do %>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      <% [
        { category: "メンタルケア", action: @mental_action, image: "mental.png" },
        { category: "体づくり", action: @physical_action, image: "physical.png" },
        { category: "生活習慣", action: @lifestyle_action, image: "lifestyle.png" }
      ].each do |card| %>
        <label class="block cursor-pointer">
          <input type="radio" name="carebit_action_id" value="<%= card[:action].id %>" class="hidden peer">
          
          <div class="bg-white shadow rounded-xl p-6 flex flex-col items-center transition transform hover:scale-105 peer-checked:ring-4 peer-checked:ring-logo">
            <h2 class="text-lg font-semibold text-logo mb-2"><%= card[:category] %></h2>
            
            <%= image_tag card[:image], class: "w-16 h-16 mb-3" %>
            
            <p class="text-xl font-bold text-main text-center"><%= card[:action].title %></p>
          </div>
        </label>
      <% end %>
    </div>

    <div class="flex justify-center gap-6">
      <%= link_to "チェンジ", carebit_select_path, class: "btn text-lg px-6 py-3" %>
      <%= submit_tag "これにする！", class: "btn text-lg px-6 py-3" %>
    </div>
  <% end %>
</div>
